<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprechbattle Arena - DTZ Edition</title>
    
    <!-- Goatcounter Analytics -->
    <script data-goatcounter="https://aguitoo.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: white;
            overflow: hidden;
        }

        .screen {
            width: 100vw;
            height: 100vh;
            display: none;
            position: relative;
        }

        .screen.active {
            display: flex;
        }

        /* SETUP SCREEN */
        #setupScreen {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            flex-direction: column;
            padding: 30px;
        }

        .setup-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .setup-header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
        }

        .setup-header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .setup-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            flex: 1;
            overflow-y: auto;
        }

        .team-setup {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 15px;
            backdrop-filter: blur(10px);
        }

        .team-setup-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 2px solid rgba(255,255,255,0.3);
        }

        .team-icon {
            font-size: 2em;
        }

        .team-name {
            font-size: 1.3em;
            font-weight: bold;
        }

        .participants-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .participant-row {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .participant-input {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 6px;
            padding: 8px;
            color: white;
            font-size: 0.95em;
            flex: 1;
        }

        .participant-input::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .level-buttons {
            display: flex;
            gap: 4px;
        }

        .level-btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 50%;
            font-size: 1.2em;
            cursor: pointer;
            opacity: 0.4;
            transition: all 0.2s;
        }

        .level-btn:hover {
            opacity: 0.7;
            transform: scale(1.1);
        }

        .level-btn.active {
            opacity: 1;
            transform: scale(1.15);
        }

        .level-btn.rubin {
            background: #ff4444;
        }

        .level-btn.smaragd {
            background: #44ff44;
        }

        .level-btn.amethyst {
            background: #aa44ff;
        }

        .add-participant-btn {
            background: rgba(255,255,255,0.2);
            border: 2px dashed rgba(255,255,255,0.4);
            border-radius: 8px;
            padding: 10px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            margin-top: 8px;
            transition: all 0.2s;
        }

        .add-participant-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.6);
        }

        .setup-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.3);
        }

        /* ROULETTE SCREEN */
        #rouletteScreen {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
        }

        .roulette-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 15px;
        }

        .mode-selection {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .mode-btn {
            padding: 15px 25px;
            font-size: 1.3em;
            border: 3px solid white;
            border-radius: 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.5;
        }

        .mode-btn:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }

        .level-selection {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .level-roulette-btn {
            padding: 20px 40px;
            font-size: 1.8em;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            color: white;
        }

        .level-roulette-btn.rubin {
            background: linear-gradient(135deg, #ff4444, #cc0000);
        }

        .level-roulette-btn.smaragd {
            background: linear-gradient(135deg, #44ff44, #00cc00);
        }

        .level-roulette-btn.amethyst {
            background: linear-gradient(135deg, #aa44ff, #7700cc);
        }

        .level-roulette-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }

        /* SITUATION BOX */
        .situation-display {
            width: 100%;
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }

        .situation-box {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 25px 30px;
            border-radius: 15px;
            max-width: 1100px;
            width: 90%;
            min-height: 120px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .situation-box h3 {
            font-size: 1.4em;
            margin-bottom: 12px;
            color: #667eea;
            font-weight: 600;
        }

        .situation-box p {
            font-size: 1.5em;
            line-height: 1.5;
            font-weight: 500;
            white-space: pre-line;
        }

        .mystery-words {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .mystery-word {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .roulette-container {
            display: flex;
            gap: 25px;
            align-items: center;
            margin: 15px 0 80px 0;
        }

        .roulette-slot {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            padding: 15px;
            width: 180px;
            height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .roulette-slot.spinning {
            animation: spin 0.1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        .slot-label {
            font-size: 0.85em;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .slot-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .slot-team-icon {
            font-size: 2em;
        }

        .slot-name {
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
        }

        .slot-team {
            font-size: 0.75em;
            opacity: 0.8;
        }

        .slot-level {
            font-size: 1.5em;
            margin-top: 5px;
        }

        .vs-symbol {
            font-size: 2.5em;
            font-weight: bold;
            opacity: 0.9;
        }

        .control-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.3);
        }

        .control-btn {
            padding: 12px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .control-btn.start {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
        }

        .control-btn.back {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* DIALOG SCREEN */
        #dialogScreen {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            flex-direction: column;
            padding: 20px;
        }

        .dialog-header {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
        }

        .participant-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .participant-avatar {
            font-size: 3em;
        }

        .participant-info h2 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .participant-info p {
            font-size: 1em;
            opacity: 0.8;
        }

        .dialog-vs {
            font-size: 3em;
            font-weight: bold;
            opacity: 0.9;
        }

        .dialog-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            padding-bottom: 80px;
        }

        .dialog-situation {
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .dialog-situation h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #667eea;
        }

        .dialog-situation p {
            font-size: 1.3em;
            line-height: 1.6;
            white-space: pre-line;
        }

        .mystery-words-display {
            display: flex;
            gap: 12px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .dialog-timer {
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .timer-display {
            font-size: 3em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            margin-bottom: 10px;
        }

        .timer-display.warning {
            color: #ff4444;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .timer-label {
            font-size: 1.2em;
            opacity: 0.8;
        }

        /* RESULT SCREEN */
        #resultScreen {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .result-content {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
        }

        .result-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 30px;
        }

        .result-participants {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }

        .result-participant {
            text-align: center;
        }

        .result-avatar {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .result-name {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .result-points {
            font-size: 1.2em;
            opacity: 0.8;
        }

        .gem-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 15px;
        }

        .gem-btn {
            width: 60px;
            height: 60px;
            border: none;
            border-radius: 50%;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .gem-btn:hover {
            transform: scale(1.2);
        }

        .gem-btn.rubin {
            background: linear-gradient(135deg, #ff4444, #cc0000);
        }

        .gem-btn.smaragd {
            background: linear-gradient(135deg, #44ff44, #00cc00);
        }

        .gem-btn.amethyst {
            background: linear-gradient(135deg, #aa44ff, #7700cc);
        }

        .result-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <!-- SETUP SCREEN -->
    <div class="screen active" id="setupScreen">
        <div class="setup-header">
            <h1>üé§ Sprechbattle Arena - DTZ Edition</h1>
            <p>Richtet eure Teams ein und w√§hlt das Level f√ºr jeden Teilnehmer</p>
        </div>

        <div class="setup-grid">
            <div class="team-setup">
                <div class="team-setup-header">
                    <div class="team-icon">üåô</div>
                    <div class="team-name">Team Mond</div>
                </div>
                <div class="participants-list" id="participants-mond"></div>
                <button class="add-participant-btn" onclick="addParticipantInput('mond')">+ Teilnehmer</button>
            </div>

            <div class="team-setup">
                <div class="team-setup-header">
                    <div class="team-icon">‚òÄÔ∏è</div>
                    <div class="team-name">Team Sonne</div>
                </div>
                <div class="participants-list" id="participants-sonne"></div>
                <button class="add-participant-btn" onclick="addParticipantInput('sonne')">+ Teilnehmer</button>
            </div>

            <div class="team-setup">
                <div class="team-setup-header">
                    <div class="team-icon">‚≠ê</div>
                    <div class="team-name">Team Stern</div>
                </div>
                <div class="participants-list" id="participants-stern"></div>
                <button class="add-participant-btn" onclick="addParticipantInput('stern')">+ Teilnehmer</button>
            </div>

            <div class="team-setup">
                <div class="team-setup-header">
                    <div class="team-icon">üåä</div>
                    <div class="team-name">Team Ozean</div>
                </div>
                <div class="participants-list" id="participants-ozean"></div>
                <button class="add-participant-btn" onclick="addParticipantInput('ozean')">+ Teilnehmer</button>
            </div>
        </div>

        <div class="setup-controls">
            <button class="btn btn-primary" onclick="startArena()">‚ñ∂Ô∏è Arena starten</button>
            <button class="btn btn-secondary" onclick="exportData()">üíæ Daten speichern</button>
            <button class="btn btn-secondary" onclick="importData()">üìÇ Daten laden</button>
        </div>
    </div>

    <!-- ROULETTE SCREEN -->
    <div class="screen" id="rouletteScreen">
        <h1 class="roulette-title">W√§hle Spielmodus & Level</h1>
        
        <div class="mode-selection">
            <button class="mode-btn situation" onclick="selectMode('situation')">
                üé≠ Klassischer Dialog
            </button>
            <button class="mode-btn mystery" onclick="selectMode('mystery')">
                üéÅ W√∂rter-Challenge
            </button>
            <button class="mode-btn schnellfeuer" onclick="selectMode('schnellfeuer')">
                ‚ö° Schnellfeuer
            </button>
            <button class="mode-btn eskalation" onclick="selectMode('eskalation')">
                üî• Eskalation
            </button>
        </div>

        <div class="level-selection">
            <button class="level-roulette-btn rubin" onclick="startRouletteByLevel('rubin')">
                üî¥ Rubin
            </button>
            <button class="level-roulette-btn smaragd" onclick="startRouletteByLevel('smaragd')">
                üü¢ Smaragd
            </button>
            <button class="level-roulette-btn amethyst" onclick="startRouletteByLevel('amethyst')">
                üü£ Amethyst
            </button>
        </div>
        
        <div class="situation-display">
            <div class="situation-box">
                <h3 id="situationTitle">W√§hle einen Modus</h3>
                <p id="situationText">Klicke auf einen Spielmodus oben, dann w√§hle ein Level!</p>
                <div id="mysteryWords" class="mystery-words"></div>
            </div>
        </div>
        
        <div class="roulette-container">
            <div class="roulette-slot" id="slot1">
                <div class="slot-label">Spieler 1</div>
                <div class="slot-content">
                    <div class="slot-team-icon">üåô</div>
                    <div class="slot-name">-</div>
                    <div class="slot-team">-</div>
                    <div class="slot-level">-</div>
                </div>
            </div>
            
            <div class="vs-symbol">VS</div>
            
            <div class="roulette-slot" id="slot2">
                <div class="slot-label">Spieler 2</div>
                <div class="slot-content">
                    <div class="slot-team-icon">‚òÄÔ∏è</div>
                    <div class="slot-name">-</div>
                    <div class="slot-team">-</div>
                    <div class="slot-level">-</div>
                </div>
            </div>
        </div>

        <div class="control-panel">
            <button class="control-btn start" onclick="startDialog()">‚ñ∂Ô∏è Dialog starten</button>
            <button class="control-btn back" onclick="showScreen('setupScreen')">‚¨ÖÔ∏è Zur√ºck</button>
        </div>
    </div>

    <!-- DIALOG SCREEN -->
    <div class="screen" id="dialogScreen">
        <div class="dialog-header">
            <div class="participant-card">
                <div class="participant-avatar" id="player1Avatar">üåô</div>
                <div class="participant-info">
                    <h2 id="player1Name">Spieler 1</h2>
                    <p id="player1Team">Team Mond</p>
                </div>
            </div>

            <div class="dialog-vs">VS</div>

            <div class="participant-card">
                <div class="participant-avatar" id="player2Avatar">‚òÄÔ∏è</div>
                <div class="participant-info">
                    <h2 id="player2Name">Spieler 2</h2>
                    <p id="player2Team">Team Sonne</p>
                </div>
            </div>
        </div>

        <div class="dialog-main">
            <div class="dialog-situation">
                <h3 id="dialogModeTitle">üéØ Eure Aufgabe:</h3>
                <p id="dialogSituation">Aufgabe wird angezeigt...</p>
                <div class="mystery-words-display" id="dialogMysteryWords"></div>
            </div>

            <div class="dialog-timer">
                <div class="timer-display" id="dialogTimer">0:00</div>
                <div class="timer-label">Sprechzeit</div>
            </div>
        </div>

        <div class="control-panel">
            <button class="control-btn start" onclick="startStopwatch()">‚è±Ô∏è Timer starten</button>
            <button class="control-btn start" onclick="stopStopwatch()">‚è∏Ô∏è Timer stoppen</button>
            <button class="control-btn start" onclick="showScreen('resultScreen')">‚úÖ Bewerten</button>
            <button class="control-btn back" onclick="showScreen('rouletteScreen')">‚¨ÖÔ∏è Zur√ºck</button>
        </div>
    </div>

    <!-- RESULT SCREEN -->
    <div class="screen" id="resultScreen">
        <div class="result-content">
            <h1 class="result-title">üìä Punkte vergeben</h1>
            
            <div class="result-participants">
                <div class="result-participant">
                    <div class="result-avatar" id="result1Avatar">üåô</div>
                    <div class="result-name" id="result1Name">Spieler 1</div>
                    <div class="result-points" id="result1Points">0 Punkte</div>
                    <div class="gem-buttons">
                        <button class="gem-btn rubin" onclick="awardGem(1, 'rubin', 1)" title="Rubin (+1)">üî¥</button>
                        <button class="gem-btn smaragd" onclick="awardGem(1, 'smaragd', 2)" title="Smaragd (+2)">üü¢</button>
                        <button class="gem-btn amethyst" onclick="awardGem(1, 'amethyst', 3)" title="Amethyst (+3)">üü£</button>
                    </div>
                </div>

                <div class="result-participant">
                    <div class="result-avatar" id="result2Avatar">‚òÄÔ∏è</div>
                    <div class="result-name" id="result2Name">Spieler 2</div>
                    <div class="result-points" id="result2Points">0 Punkte</div>
                    <div class="gem-buttons">
                        <button class="gem-btn rubin" onclick="awardGem(2, 'rubin', 1)" title="Rubin (+1)">üî¥</button>
                        <button class="gem-btn smaragd" onclick="awardGem(2, 'smaragd', 2)" title="Smaragd (+2)">üü¢</button>
                        <button class="gem-btn amethyst" onclick="awardGem(2, 'amethyst', 3)" title="Amethyst (+3)">üü£</button>
                    </div>
                </div>
            </div>

            <div class="result-controls">
                <button class="btn btn-primary" onclick="showScreen('rouletteScreen')">üîÑ Neue Runde</button>
                <button class="btn btn-secondary" onclick="showScreen('setupScreen')">üè† Zum Setup</button>
            </div>
        </div>
    </div>

    <script>
        const teams = {
            mond: { name: 'Mond', icon: 'üåô', participants: [] },
            sonne: { name: 'Sonne', icon: '‚òÄÔ∏è', participants: [] },
            stern: { name: 'Stern', icon: '‚≠ê', participants: [] },
            ozean: { name: 'Ozean', icon: 'üåä', participants: [] }
        };

        const levelIcons = {
            rubin: 'üî¥',
            smaragd: 'üü¢',
            amethyst: 'üü£'
        };

        const levelNames = {
            rubin: 'Rubin',
            smaragd: 'Smaragd',
            amethyst: 'Amethyst'
        };

        const modeNames = {
            situation: 'üé≠ Klassischer Dialog',
            mystery: 'üéÅ W√∂rter-Challenge',
            schnellfeuer: '‚ö° Schnellfeuer',
            eskalation: 'üî• Eskalation'
        };

        let currentPlayer1 = null;
        let currentPlayer2 = null;
        let currentSituation = null;
        let currentMode = 'situation';
        let currentMysteryWords = [];
        let timerInterval = null;

        window.onload = function() {
            ['mond', 'sonne', 'stern', 'ozean'].forEach(team => {
                for (let i = 0; i < 6; i++) {
                    addParticipantInput(team);
                }
            });
        };

        function addParticipantInput(team) {
            const container = document.getElementById('participants-' + team);
            const row = document.createElement('div');
            row.className = 'participant-row';
            
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'participant-input';
            input.placeholder = 'Name...';
            input.addEventListener('blur', function() { updateParticipants(team); });
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') updateParticipants(team);
            });
            
            const levelButtons = document.createElement('div');
            levelButtons.className = 'level-buttons';
            
            ['rubin', 'smaragd', 'amethyst'].forEach(function(level) {
                const btn = document.createElement('button');
                btn.className = 'level-btn ' + level;
                btn.textContent = levelIcons[level];
                btn.dataset.level = level;
                btn.onclick = function(e) {
                    e.preventDefault();
                    row.querySelectorAll('.level-btn').forEach(function(b) {
                        b.classList.remove('active');
                    });
                    btn.classList.add('active');
                    input.dataset.level = level;
                    updateParticipants(team);
                };
                levelButtons.appendChild(btn);
            });
            
            row.appendChild(input);
            row.appendChild(levelButtons);
            container.appendChild(row);
        }

        function updateParticipants(team) {
            const container = document.getElementById('participants-' + team);
            const rows = container.querySelectorAll('.participant-row');
            teams[team].participants = [];
            
            rows.forEach(function(row) {
                const input = row.querySelector('.participant-input');
                const name = input.value.trim();
                const level = input.dataset.level;
                
                if (name && level) {
                    teams[team].participants.push({
                        name: name,
                        level: level,
                        points: 0
                    });
                }
            });
        }

        function selectMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(function(btn) {
                btn.style.opacity = '0.5';
            });
            event.target.style.opacity = '1';
        }

        function startRouletteByLevel(level) {
            ['mond', 'sonne', 'stern', 'ozean'].forEach(updateParticipants);

            const levelParticipants = [];
            Object.keys(teams).forEach(function(teamKey) {
                teams[teamKey].participants.forEach(function(participant) {
                    if (participant.level === level) {
                        levelParticipants.push({
                            name: participant.name,
                            team: teamKey,
                            teamName: teams[teamKey].name,
                            teamIcon: teams[teamKey].icon,
                            level: level
                        });
                    }
                });
            });

            if (levelParticipants.length < 2) {
                alert('Bitte mindestens 2 Teilnehmer im ' + levelNames[level] + '-Level!');
                return;
            }

            showScreen('rouletteScreen');

            const slot1 = document.getElementById('slot1');
            const slot2 = document.getElementById('slot2');
            slot1.classList.add('spinning');
            slot2.classList.add('spinning');

            setTimeout(function() {
                slot1.classList.remove('spinning');
                slot2.classList.remove('spinning');

                const shuffled = levelParticipants.sort(function() { return 0.5 - Math.random(); });
                currentPlayer1 = shuffled[0];
                currentPlayer2 = shuffled[1];

                const levelSituations = situations[level];
                currentSituation = levelSituations[Math.floor(Math.random() * levelSituations.length)];

                displayPlayer(1, currentPlayer1);
                displayPlayer(2, currentPlayer2);

                if (currentMode === 'mystery') {
                    currentMysteryWords = mysteryWords[Math.floor(Math.random() * mysteryWords.length)];
                    document.getElementById('situationTitle').textContent = 'üéÅ W√∂rter-Challenge';
                    document.getElementById('situationText').textContent = 'F√ºhrt einen Dialog und benutzt dabei diese 3 W√∂rter:\n\n' + currentSituation;
                    const wordsHTML = currentMysteryWords.map(function(w) {
                        return '<div class="mystery-word">' + w + '</div>';
                    }).join('');
                    document.getElementById('mysteryWords').innerHTML = wordsHTML;
                } else if (currentMode === 'schnellfeuer') {
                    document.getElementById('situationTitle').textContent = '‚ö° Schnellfeuer - Reagiert schnell!';
                    document.getElementById('situationText').textContent = currentSituation;
                    document.getElementById('mysteryWords').innerHTML = '';
                } else if (currentMode === 'eskalation') {
                    document.getElementById('situationTitle').textContent = 'üî• Eskalation - Probleme kommen!';
                    document.getElementById('situationText').textContent = currentSituation;
                    document.getElementById('mysteryWords').innerHTML = '';
                } else {
                    document.getElementById('situationTitle').textContent = 'üé≠ Klassischer Dialog';
                    document.getElementById('situationText').textContent = currentSituation;
                    document.getElementById('mysteryWords').innerHTML = '';
                }
            }, 2000);
        }

        function displayPlayer(slot, player) {
            const slotEl = document.getElementById('slot' + slot);
            slotEl.querySelector('.slot-team-icon').textContent = player.teamIcon;
            slotEl.querySelector('.slot-name').textContent = player.name;
            slotEl.querySelector('.slot-team').textContent = 'Team ' + player.teamName;
            slotEl.querySelector('.slot-level').textContent = levelIcons[player.level];
        }

        function startDialog() {
            if (!currentPlayer1 || !currentPlayer2) {
                alert('Bitte zuerst Roulette drehen!');
                return;
            }

            showScreen('dialogScreen');
            
            clearInterval(timerInterval);
            timerRunning = false;
            document.getElementById('dialogTimer').textContent = '0:00';
            document.getElementById('dialogTimer').classList.remove('warning');

            document.getElementById('player1Avatar').textContent = currentPlayer1.teamIcon;
            document.getElementById('player1Name').textContent = currentPlayer1.name;
            document.getElementById('player1Team').textContent = 'Team ' + currentPlayer1.teamName;

            document.getElementById('player2Avatar').textContent = currentPlayer2.teamIcon;
            document.getElementById('player2Name').textContent = currentPlayer2.name;
            document.getElementById('player2Team').textContent = 'Team ' + currentPlayer2.teamName;

            document.getElementById('dialogModeTitle').textContent = modeNames[currentMode];
            
            if (currentMode === 'mystery') {
                document.getElementById('dialogSituation').textContent = 'F√ºhrt einen Dialog. Benutzt dabei diese 3 W√∂rter:';
                const wordsHTML = currentMysteryWords.map(function(w) {
                    return '<div class="mystery-word">' + w + '</div>';
                }).join('');
                document.getElementById('dialogMysteryWords').innerHTML = wordsHTML;
            } else {
                document.getElementById('dialogSituation').textContent = currentSituation;
                document.getElementById('dialogMysteryWords').innerHTML = '';
            }
        }

        let timerStartTime = 0;
        let timerElapsed = 0;
        let timerRunning = false;
        
        function startStopwatch() {
            if (timerRunning) return;
            
            clearInterval(timerInterval);
            timerStartTime = Date.now();
            timerElapsed = 0;
            timerRunning = true;
            const display = document.getElementById('dialogTimer');
            display.classList.remove('warning');

            timerInterval = setInterval(function() {
                timerElapsed = Math.floor((Date.now() - timerStartTime) / 1000);
                const mins = Math.floor(timerElapsed / 60);
                const secs = timerElapsed % 60;
                display.textContent = mins + ':' + (secs < 10 ? '0' : '') + secs;
            }, 1000);
        }

        function stopStopwatch() {
            if (!timerRunning) {
                alert('‚ö†Ô∏è Timer wurde noch nicht gestartet!');
                return;
            }
            
            clearInterval(timerInterval);
            timerRunning = false;
            const display = document.getElementById('dialogTimer');
            display.classList.add('warning');
        }

        function awardGem(player, gemType, points) {
            const targetPlayer = player === 1 ? currentPlayer1 : currentPlayer2;
            
            Object.keys(teams).forEach(function(teamKey) {
                teams[teamKey].participants.forEach(function(p) {
                    if (p.name === targetPlayer.name && p.level === targetPlayer.level) {
                        p.points += points;
                        document.getElementById('result' + player + 'Points').textContent = p.points + ' Punkte';
                    }
                });
            });

            const btn = event.target;
            btn.style.transform = 'scale(1.5)';
            setTimeout(function() { btn.style.transform = 'scale(1)'; }, 300);
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(function(screen) {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            if (screenId === 'resultScreen') {
                document.getElementById('result1Avatar').textContent = currentPlayer1.teamIcon;
                document.getElementById('result1Name').textContent = currentPlayer1.name;
                document.getElementById('result2Avatar').textContent = currentPlayer2.teamIcon;
                document.getElementById('result2Name').textContent = currentPlayer2.name;

                const p1 = teams[currentPlayer1.team].participants.find(function(p) {
                    return p.name === currentPlayer1.name && p.level === currentPlayer1.level;
                });
                const p2 = teams[currentPlayer2.team].participants.find(function(p) {
                    return p.name === currentPlayer2.name && p.level === currentPlayer2.level;
                });

                document.getElementById('result1Points').textContent = (p1 ? p1.points : 0) + ' Punkte';
                document.getElementById('result2Points').textContent = (p2 ? p2.points : 0) + ' Punkte';
            }
        }

        function startArena() {
            let hasParticipants = false;
            Object.keys(teams).forEach(function(teamKey) {
                updateParticipants(teamKey);
                if (teams[teamKey].participants.length > 0) hasParticipants = true;
            });

            if (!hasParticipants) {
                alert('Bitte mindestens einen Teilnehmer eintragen!');
                return;
            }

            showScreen('rouletteScreen');
        }

        function exportData() {
            ['mond', 'sonne', 'stern', 'ozean'].forEach(updateParticipants);
            const dataStr = JSON.stringify(teams, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'sprechbattle-teilnehmer.json';
            link.click();
        }

        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        const imported = JSON.parse(event.target.result);
                        Object.keys(imported).forEach(function(teamKey) {
                            if (teams[teamKey]) {
                                teams[teamKey].participants = imported[teamKey].participants;
                            }
                        });
                        location.reload();
                    } catch (error) {
                        alert('Fehler beim Laden der Datei!');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        const situations = {
            rubin: [
                "Situation: Ihr geht zusammen in den Supermarkt einkaufen.\nSprecht √ºber: ‚Ä¢ Was braucht ihr? ‚Ä¢ Wo findet ihr die Sachen? ‚Ä¢ Wie viel kostet das?",
                "Situation: Ihr m√∂chtet zusammen kochen.\nSprecht √ºber: ‚Ä¢ Was kocht ihr? ‚Ä¢ Wer kauft was ein? ‚Ä¢ Wann fangt ihr an?",
                "Situation: Ihr geht zum B√§cker.\nSprecht √ºber: ‚Ä¢ Was m√∂chtet ihr kaufen? ‚Ä¢ Wie viel kostet das? ‚Ä¢ Nehmt ihr noch etwas mit?",
                "Situation: Einer von euch ist in der Apotheke.\nSprecht √ºber: ‚Ä¢ Was braucht ihr? ‚Ä¢ Wie viel nehmt ihr? ‚Ä¢ Was sagt der Apotheker?",
                "Situation: Ihr kauft zusammen Kleidung.\nSprecht √ºber: ‚Ä¢ Welche Gr√∂√üe? ‚Ä¢ Welche Farbe passt? ‚Ä¢ Wie viel kostet das?",
                "Situation: Ihr plant einen Ausflug in den Park.\nSprecht √ºber: ‚Ä¢ Wann geht ihr? ‚Ä¢ Was nehmt ihr mit? ‚Ä¢ Wie ist das Wetter?",
                "Situation: Ihr m√∂chtet zusammen in ein Caf√© gehen.\nSprecht √ºber: ‚Ä¢ Welches Caf√©? ‚Ä¢ Wann trefft ihr euch? ‚Ä¢ Was trinkt ihr?",
                "Situation: Ihr plant einen Filmabend zu Hause.\nSprecht √ºber: ‚Ä¢ Welchen Film schaut ihr? ‚Ä¢ Wer bringt was mit? ‚Ä¢ Wann beginnt ihr?",
                "Situation: Ihr wollt zusammen Sport machen.\nSprecht √ºber: ‚Ä¢ Welcher Sport? ‚Ä¢ Wann und wo? ‚Ä¢ Was braucht ihr?",
                "Situation: Ihr geht spazieren.\nSprecht √ºber: ‚Ä¢ Wohin geht ihr? ‚Ä¢ Wie lange? ‚Ä¢ Was m√∂chtet ihr sehen?",
                "Situation: Einer braucht einen Termin beim Arzt.\nSprecht √ºber: ‚Ä¢ Welcher Arzt? ‚Ä¢ Wann passt es? ‚Ä¢ Welche Uhrzeit?",
                "Situation: Ihr trefft euch am Bahnhof.\nSprecht √ºber: ‚Ä¢ Wann genau? ‚Ä¢ An welchem Gleis? ‚Ä¢ Wohin fahrt ihr?",
                "Situation: Ihr plant ein Picknick im Park.\nSprecht √ºber: ‚Ä¢ Was nehmt ihr mit? ‚Ä¢ Wann geht ihr? ‚Ä¢ Wie ist das Wetter?",
                "Situation: Ihr m√ºsst zur Post gehen.\nSprecht √ºber: ‚Ä¢ Was wollt ihr verschicken? ‚Ä¢ Wie? ‚Ä¢ Was kostet das?",
                "Situation: Ihr r√§umt zusammen die Wohnung auf.\nSprecht √ºber: ‚Ä¢ Wer macht was? ‚Ä¢ Wo beginnt ihr? ‚Ä¢ Wie lange dauert das?",
                "Situation: Ihr geht zum Baumarkt.\nSprecht √ºber: ‚Ä¢ Was braucht ihr? ‚Ä¢ F√ºr welches Zimmer? ‚Ä¢ Wie viel kostet das?",
                "Situation: Ihr plant einen Umzug.\nSprecht √ºber: ‚Ä¢ Wann zieht ihr um? ‚Ä¢ Wer hilft euch? ‚Ä¢ Was packt ihr zuerst?",
                "Situation: Ihr fahrt zusammen mit dem Bus.\nSprecht √ºber: ‚Ä¢ Wohin fahrt ihr? ‚Ä¢ Welche Linie? ‚Ä¢ Wann kommt der Bus?",
                "Situation: Ihr sucht zusammen den Weg zum Rathaus.\nSprecht √ºber: ‚Ä¢ Wo ist das Rathaus? ‚Ä¢ Wie kommt ihr hin? ‚Ä¢ Mit Bus oder zu Fu√ü?",
                "Situation: Ihr holt jemanden vom Bahnhof ab.\nSprecht √ºber: ‚Ä¢ Wann kommt der Zug? ‚Ä¢ Welches Gleis? ‚Ä¢ Wie fahrt ihr hin?",
                "Situation: Einer von euch geht zum Arzt.\nSprecht √ºber: ‚Ä¢ Was tut weh? ‚Ä¢ Seit wann? ‚Ä¢ Welche Medizin hilft?",
                "Situation: Ihr seid beide krank.\nSprecht √ºber: ‚Ä¢ Was fehlt euch? ‚Ä¢ Welche Medizin nehmt ihr? ‚Ä¢ Wann geht es besser?",
                "Situation: Ihr sucht zusammen einen Job.\nSprecht √ºber: ‚Ä¢ Welchen Job? ‚Ä¢ Wo sucht ihr? ‚Ä¢ Vollzeit oder Teilzeit?",
                "Situation: Ihr macht einen Sprachkurs.\nSprecht √ºber: ‚Ä¢ Wann ist der Kurs? ‚Ä¢ Wo? ‚Ä¢ Welches Level habt ihr?",
                "Situation: Eure Kinder gehen in die Schule.\nSprecht √ºber: ‚Ä¢ Wo ist die Schule? ‚Ä¢ Wann beginnt sie? ‚Ä¢ Was brauchen die Kinder?"
            ],
            smaragd: [
                "Situation: Die Waschmaschine in der Wohnung ist kaputt.\nSprecht √ºber: ‚Ä¢ Seit wann ist sie kaputt? ‚Ä¢ Ruft ihr den Vermieter an? ‚Ä¢ Was sagt ihr?",
                "Situation: Im Restaurant ist das Essen kalt.\nSprecht √ºber: ‚Ä¢ Was macht ihr? ‚Ä¢ Wie beschwert ihr euch h√∂flich? ‚Ä¢ Was m√∂chtet ihr?",
                "Situation: Die gekaufte Hose ist zu klein.\nSprecht √ºber: ‚Ä¢ Geht ihr zur√ºck zum Gesch√§ft? ‚Ä¢ Habt ihr den Kassenbon? ‚Ä¢ Umtausch oder Geld zur√ºck?",
                "Situation: Der Nachbar ist oft zu laut.\nSprecht √ºber: ‚Ä¢ Wann ist es laut? ‚Ä¢ Sprecht ihr mit ihm? ‚Ä¢ Was sagt ihr?",
                "Situation: Das bestellte Paket ist nicht angekommen.\nSprecht √ºber: ‚Ä¢ Wen ruft ihr an? ‚Ä¢ Was fragt ihr? ‚Ä¢ Wie l√∂st ihr das?",
                "Situation: Ihr meldet euch im Einwohnermeldeamt an.\nSprecht √ºber: ‚Ä¢ Was braucht ihr? ‚Ä¢ Welche Papiere m√ºsst ihr mitbringen? ‚Ä¢ Wann geht ihr hin?",
                "Situation: Ihr beantragt einen Kinderreisepass.\nSprecht √ºber: ‚Ä¢ Wo macht ihr das? ‚Ä¢ Was m√ºsst ihr mitbringen? ‚Ä¢ Wie viel kostet das?",
                "Situation: Ihr sucht die Ausl√§nderbeh√∂rde.\nSprecht √ºber: ‚Ä¢ Wo ist die Beh√∂rde? ‚Ä¢ Wie macht ihr einen Termin? ‚Ä¢ Was braucht ihr?",
                "Situation: Ihr braucht eine Geburtsurkunde.\nSprecht √ºber: ‚Ä¢ Wo bekommt ihr die? ‚Ä¢ Welches Amt? ‚Ä¢ Was kostet das?",
                "Situation: Ihr sucht zusammen eine Wohnung.\nSprecht √ºber: ‚Ä¢ Wie viele Zimmer braucht ihr? ‚Ä¢ Wie viel Miete k√∂nnt ihr zahlen? ‚Ä¢ In welchem Stadtteil?",
                "Situation: Ihr besichtigt heute eine Wohnung.\nSprecht √ºber: ‚Ä¢ Was fragt ihr den Vermieter? ‚Ä¢ Was ist euch wichtig? ‚Ä¢ Wann k√∂nnt ihr einziehen?",
                "Situation: Ihr unterschreibt einen Mietvertrag.\nSprecht √ºber: ‚Ä¢ Was steht im Vertrag? ‚Ä¢ Was bedeutet Kaution? ‚Ä¢ Wann beginnt die Miete?",
                "Situation: Es gibt Schimmel in eurer Wohnung.\nSprecht √ºber: ‚Ä¢ Seit wann ist der Schimmel da? ‚Ä¢ Ruft ihr den Vermieter an? ‚Ä¢ Was sagt ihr?",
                "Situation: Ihr lest zusammen eine Stellenanzeige.\nSprecht √ºber: ‚Ä¢ Passt der Job zu euch? ‚Ä¢ Was sind die Anforderungen? ‚Ä¢ Bewerbt ihr euch?",
                "Situation: Ihr schreibt eine Bewerbung.\nSprecht √ºber: ‚Ä¢ Was schreibt ihr? ‚Ä¢ Welche Dokumente braucht ihr? ‚Ä¢ Wann schickt ihr sie ab?",
                "Situation: Ihr habt morgen ein Vorstellungsgespr√§ch.\nSprecht √ºber: ‚Ä¢ Was zieht ihr an? ‚Ä¢ Was sagt ihr √ºber euch? ‚Ä¢ Welche Fragen stellt ihr?",
                "Situation: Euer Chef √§ndert den Arbeitsplan.\nSprecht √ºber: ‚Ä¢ Passt das f√ºr euch? ‚Ä¢ Habt ihr ein Problem damit? ‚Ä¢ Was macht ihr?",
                "Situation: Ihr braucht einen Termin beim Facharzt.\nSprecht √ºber: ‚Ä¢ Die Praxis ist voll. ‚Ä¢ Wie lange m√ºsst ihr warten? ‚Ä¢ Was macht ihr?",
                "Situation: Eure Krankenkassenkarte ist weg.\nSprecht √ºber: ‚Ä¢ Wo k√∂nnte sie sein? ‚Ä¢ Wen ruft ihr an? ‚Ä¢ Was sagt ihr?",
                "Situation: Ihr braucht ein Rezept vom Arzt.\nSprecht √ºber: ‚Ä¢ Warum braucht ihr es? ‚Ä¢ Wo holt ihr das Rezept ab? ‚Ä¢ Was holt ihr in der Apotheke?",
                "Situation: Euer Kind ist krank und kann nicht zur Schule.\nSprecht √ºber: ‚Ä¢ Was hat das Kind? ‚Ä¢ Ruft ihr in der Schule an? ‚Ä¢ Wann geht es wieder?",
                "Situation: Ihr er√∂ffnet ein Bankkonto.\nSprecht √ºber: ‚Ä¢ Welche Bank w√§hlt ihr? ‚Ä¢ Was braucht ihr daf√ºr? ‚Ä¢ Welches Konto ist gut?",
                "Situation: Eure EC-Karte funktioniert nicht.\nSprecht √ºber: ‚Ä¢ Was ist das Problem? ‚Ä¢ Wen ruft ihr an? ‚Ä¢ Was sagt ihr?",
                "Situation: Ihr √ºberweist Geld ins Ausland.\nSprecht √ºber: ‚Ä¢ Wie geht das? ‚Ä¢ Was braucht ihr? ‚Ä¢ Wie lange dauert das?",
                "Situation: Euer Auto ist kaputt.\nSprecht √ºber: ‚Ä¢ Was ist kaputt? ‚Ä¢ Ruft ihr die Werkstatt an? ‚Ä¢ Was sagt ihr am Telefon?",
                "Situation: Ihr bekommt einen Strafzettel f√ºrs Falschparken.\nSprecht √ºber: ‚Ä¢ Warum habt ihr den Strafzettel? ‚Ä¢ Wie bezahlt ihr ihn? ‚Ä¢ Bis wann?",
                "Situation: Ihr wollt ein Auto f√ºr den Urlaub mieten.\nSprecht √ºber: ‚Ä¢ F√ºr wie lange? ‚Ä¢ Welches Auto? ‚Ä¢ Was kostet das?",
                "Situation: Ihr sucht einen Kitaplatz f√ºr euer Kind.\nSprecht √ºber: ‚Ä¢ Wo gibt es Kitapl√§tze? ‚Ä¢ Ab wann? ‚Ä¢ Was m√ºsst ihr machen?",
                "Situation: Euer Kind hat Streit in der Schule.\nSprecht √ºber: ‚Ä¢ Was ist passiert? ‚Ä¢ Sprecht ihr mit dem Lehrer? ‚Ä¢ Was sagt ihr?",
                "Situation: Ihr plant einen Kindergeburtstag.\nSprecht √ºber: ‚Ä¢ Wo feiert ihr? ‚Ä¢ Wen ladet ihr ein? ‚Ä¢ Was spielt und esst ihr?"
            ],
            amethyst: [
                "Situation: Die Heizung ist kaputt. Es ist Winter. Der Vermieter reagiert nicht.\nSprecht √ºber: ‚Ä¢ Was macht ihr zuerst? ‚Ä¢ Wen ruft ihr noch an? ‚Ä¢ Wie l√∂st ihr das Problem?",
                "Situation: Eure Party wird zu laut. Die Nachbarn beschweren sich.\nSprecht √ºber: ‚Ä¢ Wie reagiert ihr diplomatisch? ‚Ä¢ Was sagt ihr den Nachbarn? ‚Ä¢ Wie l√∂st ihr das?",
                "Situation: Ihr habt verschiedene Meinungen √ºber das Essen f√ºr die Party.\nSprecht √ºber: ‚Ä¢ Was m√∂chte jeder? ‚Ä¢ Wie findet ihr einen Kompromiss? ‚Ä¢ Was macht ihr am Ende?",
                "Situation: Das Wetter ist schlecht f√ºr euren Ausflug.\nSprecht √ºber: ‚Ä¢ Was war geplant? ‚Ä¢ Welche Alternativen habt ihr? ‚Ä¢ Plant schnell um!",
                "Situation: Die Bank hat Geld vom Konto abgebucht.\nSprecht √ºber: ‚Ä¢ Warum ist das passiert? ‚Ä¢ Ruft ihr die Bank an? ‚Ä¢ Wie kl√§rt ihr das?",
                "Situation: Euer Chef versteht etwas falsch.\nSprecht √ºber: ‚Ä¢ Was versteht er falsch? ‚Ä¢ Wie erkl√§rt ihr es richtig? ‚Ä¢ Wie bleibt ihr h√∂flich?",
                "Situation: Im Gesch√§ft gibt es √Ñrger mit dem Umtausch.\nSprecht √ºber: ‚Ä¢ Was ist das Problem? ‚Ä¢ Was sind eure Rechte? ‚Ä¢ Wie l√∂st ihr das?",
                "Situation: Ihr habt einen falschen Strafzettel bekommen.\nSprecht √ºber: ‚Ä¢ Warum ist er falsch? ‚Ä¢ Wie argumentiert ihr? ‚Ä¢ An wen wendet ihr euch?",
                "Situation: Der Vermieter will die Miete erh√∂hen.\nSprecht √ºber: ‚Ä¢ Ist das legal? ‚Ä¢ Wie viel mehr? ‚Ä¢ Wie sprecht ihr mit dem Vermieter?",
                "Situation: Euer Arbeitgeber will euch k√ºndigen.\nSprecht √ºber: ‚Ä¢ Was ist der Grund? ‚Ä¢ Was sind eure Rechte? ‚Ä¢ Was k√∂nnt ihr tun?",
                "Situation: Ihr wollt mehr Gehalt vom Chef.\nSprecht √ºber: ‚Ä¢ Wie fragt ihr? ‚Ä¢ Wie begr√ºndet ihr das? ‚Ä¢ Was sagt ihr?",
                "Situation: Die Krankenkasse zahlt eine Behandlung nicht.\nSprecht √ºber: ‚Ä¢ Warum nicht? ‚Ä¢ Legt ihr Widerspruch ein? ‚Ä¢ Wie macht ihr das?",
                "Situation: Es gibt einen Unfall! Ihr ruft den Notarzt.\nSprecht √ºber: ‚Ä¢ Was ist passiert? ‚Ä¢ Welche Infos braucht der Notarzt? ‚Ä¢ Was sagt ihr am Telefon?",
                "Situation: Eure Wohnung ist √ºberflutet.\nSprecht √ºber: ‚Ä¢ Was ist passiert? ‚Ä¢ Wen ruft ihr an? ‚Ä¢ Was macht ihr zuerst?",
                "Situation: Euer Pass ist gestohlen.\nSprecht √ºber: ‚Ä¢ Wo geht ihr hin? ‚Ä¢ Was braucht ihr f√ºr einen neuen Pass? ‚Ä¢ Wie lange dauert das?",
                "Situation: Euer Kind ist in der Schule verletzt. Die Schule ruft an.\nSprecht √ºber: ‚Ä¢ Was ist passiert? ‚Ä¢ Fahrt ihr sofort hin? ‚Ä¢ Was fragt ihr?",
                "Situation: Ihr beantragt Wohngeld.\nSprecht √ºber: ‚Ä¢ Welche Formulare braucht ihr? ‚Ä¢ Was bedeuten die Fragen? ‚Ä¢ Wo gebt ihr das ab?",
                "Situation: Euer Visum l√§uft bald ab.\nSprecht √ºber: ‚Ä¢ Was m√ºsst ihr tun? ‚Ä¢ Welche Unterlagen braucht ihr? ‚Ä¢ Wo m√ºsst ihr hin?",
                "Situation: Ihr wollt einen Integrationskurs beantragen.\nSprecht √ºber: ‚Ä¢ Wo macht ihr das? ‚Ä¢ Was braucht ihr? ‚Ä¢ Wie geht das?",
                "Situation: Ihr habt Mobbing am Arbeitsplatz erlebt.\nSprecht √ºber: ‚Ä¢ Was ist passiert? ‚Ä¢ An wen wendet ihr euch? ‚Ä¢ Wie k√∂nnt ihr das beweisen?",
                "Situation: Euer Arbeitsvertrag ist sehr kompliziert.\nSprecht √ºber: ‚Ä¢ Was bedeutet das Kleingedruckte? ‚Ä¢ Habt ihr Fragen? ‚Ä¢ Wen fragt ihr?",
                "Situation: Ihr plant Elternzeit zu nehmen.\nSprecht √ºber: ‚Ä¢ Wie beantragt ihr die? ‚Ä¢ Wie lange wollt ihr? ‚Ä¢ Was bedeutet das f√ºr die Arbeit?",
                "Situation: Deutsche Kollegen verstehen eure Kultur nicht.\nSprecht √ºber: ‚Ä¢ Was verstehen sie nicht? ‚Ä¢ Wie erkl√§rt ihr das? ‚Ä¢ Welche Beispiele gebt ihr?",
                "Situation: Es gibt Konflikte wegen verschiedener Feiertage.\nSprecht √ºber: ‚Ä¢ Was ist das Problem? ‚Ä¢ Wie erkl√§rt ihr eure Feiertage? ‚Ä¢ Wie l√∂st ihr das?",
                "Situation: Eure Kinder sind zwischen zwei Kulturen.\nSprecht √ºber: ‚Ä¢ Was ist schwierig f√ºr sie? ‚Ä¢ Wie unterst√ºtzt ihr sie? ‚Ä¢ Was macht ihr zu Hause?",
                "Situation: Ihr plant eine Reise mit kleinem Budget.\nSprecht √ºber: ‚Ä¢ Wohin wollt ihr? ‚Ä¢ Wie spart ihr Geld? ‚Ä¢ Was ist euch wichtig?",
                "Situation: Am Ende des Monats ist das Geld immer alle.\nSprecht √ºber: ‚Ä¢ Wof√ºr gebt ihr Geld aus? ‚Ä¢ Wie plant ihr besser? ‚Ä¢ Was k√∂nnt ihr sparen?",
                "Situation: Ihr wollt f√ºr etwas Gro√ües sparen.\nSprecht √ºber: ‚Ä¢ Wof√ºr spart ihr? ‚Ä¢ Wie viel braucht ihr? ‚Ä¢ Wie macht ihr das?"
            ]
        };

        const mysteryWords = [
            ["Supermarkt", "Kassenbon", "Rabatt"],
            ["Apotheke", "Rezept", "Medikament"],
            ["B√§cker", "Br√∂tchen", "Fr√ºhst√ºck"],
            ["Kleidung", "Umkleidekabine", "Gr√∂√üe"],
            ["Miete", "Kaution", "Vermieter"],
            ["Waschmaschine", "Handwerker", "Reparatur"],
            ["Nachbar", "Hausordnung", "Ruhezeiten"],
            ["Umzug", "M√∂bel", "Renovieren"],
            ["Einwohnermeldeamt", "Anmeldung", "Ausweis"],
            ["Ausl√§nderbeh√∂rde", "Termin", "Papiere"],
            ["Rathaus", "Formular", "Unterschrift"],
            ["Stellenanzeige", "Bewerbung", "Lebenslauf"],
            ["Vorstellungsgespr√§ch", "Chef", "Arbeitsvertrag"],
            ["Gehalt", "√úberstunden", "Urlaub"],
            ["Kollegen", "Pause", "Feierabend"],
            ["Arztpraxis", "Krankenkasse", "Versichertenkarte"],
            ["Kopfschmerzen", "Fieber", "Krankmeldung"],
            ["Notfall", "Krankenhaus", "Ambulanz"],
            ["Bahnhof", "Fahrkarte", "Versp√§tung"],
            ["Bushaltestelle", "Monatskarte", "Fahrplan"],
            ["Werkstatt", "T√úV", "Parkplatz"],
            ["F√ºhrerschein", "Strafzettel", "Verkehrsschild"],
            ["Bankkonto", "√úberweisung", "EC-Karte"],
            ["Geldautomat", "PIN", "Kontoauszug"],
            ["Rechnung", "Lastschrift", "Bargeld"],
            ["Kindergarten", "Elternabend", "Schulanmeldung"],
            ["Spielplatz", "Kindergeburtstag", "Hausaufgaben"],
            ["Kinderarzt", "Impfung", "U-Untersuchung"],
            ["Schwimmbad", "Eintrittskarte", "√ñffnungszeiten"],
            ["Bibliothek", "Ausleihen", "Mitgliedsausweis"],
            ["Volkshochschule", "Kurs", "Anmeldung"]
        ];
    </script>
</body>
</html>
